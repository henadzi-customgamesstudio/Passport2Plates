<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Passport to Plates</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/17.0.2/umd/react.development.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/17.0.2/umd/react-dom.development.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.26.0/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            background: #f0f2f5;
            min-height: 100vh;
            touch-action: manipulation;
        }
        .game-container {
            max-width: 100%;
            margin: 0 auto;
            height: 100vh;
            display: flex;
            flex-direction: column;
        }
        .content-area {
            flex: 1;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }
        button {
            min-height: 44px; /* Better touch targets */
        }
        .ingredient-card {
            touch-action: manipulation;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const CONFIG = {
            colosseumImage: 'https://hsabaleuski.notion.site/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2Fc52b34f3-9846-400c-93cb-7e379eafde51%2F344867a5-51e5-48ba-b109-456185398033%2Fimage.png?table=block&id=15f8f26d-929b-8052-bd55-efc4508e8abb&spaceId=c52b34f3-9846-400c-93cb-7e379eafde51&width=1420&userId=&cache=v2', // Replace with your image URL
            finalDishImage: 'https://hsabaleuski.notion.site/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2Fc52b34f3-9846-400c-93cb-7e379eafde51%2Fca5af47b-743b-47dd-8d5c-7d584b365306%2Fimage.png?table=block&id=15f8f26d-929b-80c4-83ba-c6618721e277&spaceId=c52b34f3-9846-400c-93cb-7e379eafde51&width=1420&userId=&cache=v2'       // Replace with your image URL
        };


        const ingredients = [
            { id: 1, name: 'Pasta', price: 50, image: 'üçù' },
            { id: 2, name: 'Tomatoes', price: 30, image: 'üçÖ' },
            { id: 3, name: 'Basil', price: 20, image: 'üåø' },
            { id: 4, name: 'Cheese', price: 40, image: 'üßÄ' },
            { id: 5, name: 'Garlic', price: 15, image: 'üßÑ' },
            { id: 6, name: 'Olive Oil', price: 25, image: 'ü´í' },
        ];

        function Game() {
            const [gameState, setGameState] = React.useState('start');
            const [money, setMoney] = React.useState(200);
            const [basket, setBasket] = React.useState([]);
            const [followers, setFollowers] = React.useState(1000);
            const [likes, setLikes] = React.useState(0);

            const buyIngredient = (ingredient) => {
                if (money >= ingredient.price && !basket.find(item => item.id === ingredient.id)) {
                    setMoney(money - ingredient.price);
                    setBasket([...basket, ingredient]);
                }
            };

            const removeIngredient = (ingredient) => {
                setMoney(money + ingredient.price);
                setBasket(basket.filter(item => item.id !== ingredient.id));
            };

            const finishCooking = () => {
                const newLikes = Math.floor(Math.random() * 500) + 500;
                setLikes(newLikes);
                setFollowers(followers + Math.floor(newLikes / 2));
                setGameState('finished');
            };

            const resetGame = () => {
                setGameState('start');
                setMoney(200);
                setBasket([]);
                setLikes(0);
            };

            const renderStart = () => (
                <div className="p-6 text-center h-full flex flex-col justify-center">
                    <h2 className="text-3xl font-bold mb-6">Welcome to Rome! üáÆüáπ</h2>
                    <p className="mb-8 text-lg">Your followers want you to create an authentic Italian dish near the Colosseum!</p>
                    <button 
                        onClick={() => setGameState('market')}
                        className="bg-blue-500 hover:bg-blue-600 text-white px-6 py-4 rounded-lg text-lg w-full"
                    >
                        Start Cooking Adventure
                    </button>
                </div>
            );

            const renderMarket = () => (
                <div className="p-4 content-area">
                    <div className="sticky top-0 bg-white z-10 pb-4 mb-4 shadow-sm">
                        <h2 className="text-2xl font-bold mb-2">Local Market</h2>
                        <div className="flex justify-between text-lg">
                            <span>Budget: ‚Ç¨{money}</span>
                            <span>Items: {basket.length}</span>
                        </div>
                    </div>
                    <div className="space-y-4 mb-24">
                        {ingredients.map(ingredient => (
                            <div key={ingredient.id} className="border rounded-lg p-4 shadow-sm bg-white ingredient-card">
                                <div className="flex justify-between items-center">
                                    <div className="flex items-center">
                                        <span className="text-3xl mr-3">{ingredient.image}</span>
                                        <span className="text-lg">{ingredient.name}</span>
                                    </div>
                                    <div className="flex flex-col items-end">
                                        <span className="mb-2 text-lg">‚Ç¨{ingredient.price}</span>
                                        {basket.find(item => item.id === ingredient.id) ? (
                                            <button 
                                                onClick={() => removeIngredient(ingredient)}
                                                className="bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg w-24"
                                            >
                                                Remove
                                            </button>
                                        ) : (
                                            <button 
                                                onClick={() => buyIngredient(ingredient)}
                                                disabled={money < ingredient.price}
                                                className={`px-4 py-2 rounded-lg w-24 ${
                                                    money < ingredient.price 
                                                        ? 'bg-gray-300' 
                                                        : 'bg-blue-500 hover:bg-blue-600 text-white'
                                                }`}
                                            >
                                                Buy
                                            </button>
                                        )}
                                    </div>
                                </div>
                            </div>
                        ))}
                    </div>
                    <div className="fixed bottom-0 left-0 right-0 p-4 bg-white shadow-lg">
                        <button 
                            onClick={() => setGameState('cooking')}
                            disabled={basket.length === 0}
                            className={`w-full py-4 rounded-lg text-lg ${
                                basket.length === 0 
                                    ? 'bg-gray-300' 
                                    : 'bg-blue-500 hover:bg-blue-600 text-white'
                            }`}
                        >
                            Start Cooking üë®‚Äçüç≥
                        </button>
                    </div>
                </div>
            );

            const renderCooking = () => (
                <div className="p-4 content-area">
                    <h2 className="text-2xl font-bold mb-4">Cooking at the Colosseum</h2>
                    <div className="rounded-lg overflow-hidden shadow-lg mb-24">
                        <img 
                            src={CONFIG.colosseumImage} 
                            alt="Colosseum backdrop" 
                            className="w-full h-64 object-cover"
                        />
                        <div className="bg-white p-4">
                            <h3 className="text-lg font-semibold mb-3">Your Ingredients:</h3>
                            <div className="flex flex-wrap gap-4 mb-4">
                                {basket.map(ingredient => (
                                    <span key={ingredient.id} className="text-3xl">{ingredient.image}</span>
                                ))}
                            </div>
                        </div>
                    </div>
                    <div className="fixed bottom-0 left-0 right-0 p-4 bg-white shadow-lg">
                        <button 
                            onClick={finishCooking}
                            className="w-full bg-blue-500 hover:bg-blue-600 text-white py-4 rounded-lg text-lg"
                        >
                            Finish Dish üì∏
                        </button>
                    </div>
                </div>
            );

            const renderFinished = () => (
                <div className="p-4 content-area">
                    <h2 className="text-2xl font-bold mb-4">Dish Complete! üì∏</h2>
                    <div className="bg-white rounded-lg shadow-lg overflow-hidden mb-24">
                        <div className="p-4 border-b">
                            <div className="flex justify-between items-center">
                                <div className="flex items-center">
                                    <span className="text-2xl mr-2">üë®‚Äçüç≥</span>
                                    <span className="text-lg">@TravelingChef</span>
                                </div>
                                <span className="text-2xl">üîÑ</span>
                            </div>
                        </div>
                        <img 
                            src={CONFIG.finalDishImage} 
                            alt="Final dish" 
                            className="w-full h-96 object-cover"
                        />
                        <div className="p-4">
                            <div className="flex justify-between items-center text-lg">
                                <div className="flex items-center">
                                    <span className="text-2xl text-red-500 mr-2">‚ù§Ô∏è</span>
                                    <span>{likes} likes</span>
                                </div>
                                <span>{followers} followers</span>
                            </div>
                        </div>
                    </div>
                    <div className="fixed bottom-0 left-0 right-0 p-4 bg-white shadow-lg">
                        <button 
                            onClick={resetGame}
                            className="w-full bg-blue-500 hover:bg-blue-600 text-white py-4 rounded-lg text-lg"
                        >
                            Cook Another Dish
                        </button>
                    </div>
                </div>
            );

            return (
                <div className="game-container bg-white">
                    <div className="bg-blue-500 text-white p-4 shadow-md">
                        <div className="flex justify-between items-center">
                            <h1 className="text-2xl font-bold">Passport to Plates</h1>
                            <div className="flex items-center">
                                <span className="text-2xl mr-2">‚ù§Ô∏è</span>
                                <span className="text-lg">{followers}</span>
                            </div>
                        </div>
                    </div>
                    {gameState === 'start' && renderStart()}
                    {gameState === 'market' && renderMarket()}
                    {gameState === 'cooking' && renderCooking()}
                    {gameState === 'finished' && renderFinished()}
                </div>
            );
        }

        ReactDOM.render(<Game />, document.getElementById('root'));
    </script>
</body>
</html>